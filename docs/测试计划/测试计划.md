# 1引言

## 1.1编写目的

为了汇总图书馆座位预约管理系统测试结果，编写此测试报告。

目的在于明确测试结果，便于系统检测验收及后期维护，迭代开发。

预期的读者：

- 本项目的设计、开发、测试人员
- 本项目的客户、用户、审核人员

## 1.2背景

说明：

1. 项目名称：图书馆座位管理系统

2. 项目角色：

   | 角色       | 对象                               |
   | ---------- | ---------------------------------- |
   | 任务提出者 | 18级软件工程ZYH班Alipapa小组       |
   | 开发者     | 18级软件工程ZYH班Alipapa小组       |
   | 用户       | 西北大学师生                       |
   | 部署目标   | 多部RFID打卡机、云服务器、移动终端 |

3. 该软件系统同其他系统或其他机构的基本的相互来往关系

   - 本软件系统隶属于西北大学图书馆，是面向图书馆座位资源的管理系统。

   - 西北大学图书馆及其隶属机构、组织拥有其操作管理权限。

   - 西北大学师生为其主要服务对象，拥有其使用权限。

   - 2018级软件工程课程ZYH班Alipapa小组为其开发、维护及更新团队。负责对该软件系统的开发、维护及更新。

## 1.3定义

- RFID: (Radio Frequency IDentification)射频识别技术，用来读用户的校园卡
- 图书馆：指西北大学长安校区图书馆
- C/S架构：客户端/服务端架构
- Android：中文常译作安卓，是一个基于Linux内核的开放源代码移动操作系统
- iOS：*iOS*是由苹果公司开发的移动操作系统
- nodejs：是一个基于Chrome V8 引擎 的JavaScript 运行时
- linux：Linux，全称GNU/Linux，是一套免费使用和自由传播的类UNIX操作系统
- JDK：JDK是 Java 语言的软件开发工具包，主要用于移动设备、嵌入式设备上的java应用程序
- docker：Docker 是一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的镜像中
- MySQL：MySQL是一个关系型数据库管理系统，由瑞典*MySQL* AB 公司开发，属于 Oracle 旗下产品
- windows：MicrosoftWindows操作系统是美国微软公司研发的一套操作系统
- macOS：Mac OS是一套运行于苹果Macintosh系列电脑上的操作系统

## 1.4参考资料

### 后端

- [Java Spring框架](https://spring.io/)

- [Maven](http://maven.apache.org/)

### 前端

- [微信小程序开发文档](https://developers.weixin.qq.com/miniprogram/dev/framework/)
- [微信开发者工具](https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/Web_Developer_Tools.html#5)
- [npm](https://www.npmjs.com/)

# 2计划

## 2.1软件说明

| 操作逻辑                                                     | 图像                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| 每个楼层通过座位余量来调整楼层颜色，点击指定楼层可以获取具体楼层座位排布详细情况，以进行座位预约。 | ![image-20200628152151596](测试计划.assets/image-20200628152151596.png) |
| 点击头像可以查看头像                                         | ![image-20200628153609250](测试计划.assets/image-20200628153609250.png) |
| 点击待完成可以看到待完成的座位预约凭证                       | ![image-20200628153227217](测试计划.assets/image-20200628153227217.png) |
| 包含座位号以及被预约的时间段信息，点击预约按钮可以选择可选时间段进行预约 | ![image-20200628155813598](测试计划.assets/image-20200628155813598.png) |
| 输入学号以及身份证后六位来认证身份信息                       | ![image-20200628160632006](测试计划.assets/image-20200628160632006.png) |



## 2.2测试内容

| 模块名称            | 测试点                             | 优先级 |
| ------------------- | ---------------------------------- | ------ |
| user_in             | 是否能实现用户入馆操作             | 2      |
| user_out            | 是否能实现用户出馆操作             | 2      |
| login               | 是否能实现用户登陆操作             | 1      |
| get_remaining_seats | 是否能获得当前图书馆各层剩余位置数 | 1      |
| get_level_seats     | 是否能获得每层座位详细信息         | 1      |
| get_reservations    | 是否能获取用户的预约信息           | 3      |
| bind_serial         | 是否能令学号绑定微信号             | 1      |
| request_reservation | 是否能对座位进行一次预约           | 1      |

## 2.3/external/user_in

### 2.3.1进度安排

| 项目模块       | 日期                  |
| -------------- | --------------------- |
| 数据准备       | 2020.06.01/2020.06.02 |
| 用例设计       | 2020.06.02/2020.06.03 |
| 进行测试及分析 | 2020.06.03/2020.06.05 |

### 2.3.2条件

测试人员及能力需求：

| 人员   | 负责内容               | 能力需求                           |
| ------ | ---------------------- | ---------------------------------- |
| 李晓晨 | 测试数据及测试用例准备 | 有分析数据需求和设计测试用例的能力 |
| 唐忠平 | 进行测试及测试结果分析 | 有测试操作及分析测试结果的能力     |

### 2.3.3测试资料

- 详细设计说明书
- 概要设计说明书
- 数据库设计说明书

a． 有关本项任务的文件；

b． 被测试程序及其所在的媒体；

c． 测试的输入和输出举例；

d． 有关控制此项测试的方法、过程的图表。

### 2.3.4测试培训

| 受训人员       | 培训人员 | 培训内容           |
| -------------- | -------- | ------------------ |
| 李晓晨、唐忠平 | 王昊博   | 对应部分前后端源码 |

## 2.4/external/user_out

### 2.4.1进度安排

| 项目模块       | 日期                  |
| -------------- | --------------------- |
| 数据准备       | 2020.06.01/2020.06.02 |
| 用例设计       | 2020.06.02/2020.06.03 |
| 进行测试及分析 | 2020.06.03/2020.06.05 |

### 2.4.2条件

测试人员及能力需求：

| 人员   | 负责内容               | 能力需求                           |
| ------ | ---------------------- | ---------------------------------- |
| 李晓晨 | 测试数据及测试用例准备 | 有分析数据需求和设计测试用例的能力 |
| 唐忠平 | 进行测试及测试结果分析 | 有测试操作及分析测试结果的能力     |

### 2.4.3测试资料

- 详细设计说明书
- 概要设计说明书
- 数据库设计说明书

### 2.4.4测试培训

| 受训人员       | 培训人员 | 培训内容           |
| -------------- | -------- | ------------------ |
| 李晓晨、唐忠平 | 王昊博   | 对应部分前后端源码 |

## 2.5/public/login

### 2.5.1进度安排

| 项目模块       | 日期                  |
| -------------- | --------------------- |
| 数据准备       | 2020.06.01/2020.06.02 |
| 用例设计       | 2020.06.02/2020.06.03 |
| 进行测试及分析 | 2020.06.03/2020.06.05 |

### 2.5.2条件

测试人员及能力需求：

| 人员   | 负责内容               | 能力需求                           |
| ------ | ---------------------- | ---------------------------------- |
| 李晓晨 | 测试数据及测试用例准备 | 有分析数据需求和设计测试用例的能力 |
| 唐忠平 | 进行测试及测试结果分析 | 有测试操作及分析测试结果的能力     |

### 2.5.3测试资料

- 详细设计说明书
- 概要设计说明书
- 数据库设计说明书

### 2.5.4测试培训

| 受训人员       | 培训人员 | 培训内容           |
| -------------- | -------- | ------------------ |
| 李晓晨、唐忠平 | 王昊博   | 对应部分前后端源码 |

## 2.6/public/get_remaining_seats

### 2.6.1进度安排

| 项目模块       | 日期                  |
| -------------- | --------------------- |
| 数据准备       | 2020.06.06/2020.06.08 |
| 用例设计       | 2020.06.08/2020.06.09 |
| 进行测试及分析 | 2020.06.09/2020.06.11 |

### 2.6.2条件

测试人员及能力需求：

| 人员   | 负责内容               | 能力需求                           |
| ------ | ---------------------- | ---------------------------------- |
| 唐忠平 | 测试数据及测试用例准备 | 有分析数据需求和设计测试用例的能力 |
| 李晓晨 | 进行测试及测试结果分析 | 有测试操作及分析测试结果的能力     |

### 2.6.3测试资料

- 详细设计说明书
- 概要设计说明书
- 数据库设计说明书

### 2.6.4测试培训

| 受训人员       | 培训人员 | 培训内容           |
| -------------- | -------- | ------------------ |
| 李晓晨、唐忠平 | 王昊博   | 对应部分前后端源码 |

## 2.7/public/get_level_seats

### 2.7.1进度安排

| 项目模块       | 日期                  |
| -------------- | --------------------- |
| 数据准备       | 2020.06.06/2020.06.07 |
| 用例设计       | 2020.06.07/2020.06.09 |
| 进行测试及分析 | 2020.06.09/2020.06.11 |

### 2.7.2条件

测试人员及能力需求：

| 人员   | 负责内容               | 能力需求                           |
| ------ | ---------------------- | ---------------------------------- |
| 杨辉煌 | 测试数据及测试用例准备 | 有分析数据需求和设计测试用例的能力 |
| 巨新龙 | 进行测试及测试结果分析 | 有测试操作及分析测试结果的能力     |

### 2.7.3测试资料

- 详细设计说明书
- 概要设计说明书
- 数据库设计说明书

### 2.7.4测试培训

| 受训人员       | 培训人员 | 培训内容           |
| -------------- | -------- | ------------------ |
| 杨辉煌、巨新龙 | 唐忠平   | 对应部分前后端源码 |

## 2.8/private/get_reservations

### 2.8.1进度安排

| 项目模块       | 日期                  |
| -------------- | --------------------- |
| 数据准备       | 2020.06.06/2020.06.07 |
| 用例设计       | 2020.06.07/2020.06.09 |
| 进行测试及分析 | 2020.06.09/2020.06.11 |

### 2.8.2条件

测试人员及能力需求：

| 人员   | 负责内容               | 能力需求                           |
| ------ | ---------------------- | ---------------------------------- |
| 王昊博 | 测试数据及测试用例准备 | 有分析数据需求和设计测试用例的能力 |
| 杨辉煌 | 进行测试及测试结果分析 | 有测试操作及分析测试结果的能力     |

### 2.8.3测试资料

- 详细设计说明书
- 概要设计说明书
- 数据库设计说明书

### 2.8.4测试培训

| 受训人员       | 培训人员 | 培训内容           |
| -------------- | -------- | ------------------ |
| 王昊博、杨辉煌 | 李晓晨   | 对应部分前后端源码 |

## 2.9/private/bind_serial

### 2.9.1进度安排

| 项目模块       | 日期                  |
| -------------- | --------------------- |
| 数据准备       | 2020.06.12/2020.06.14 |
| 用例设计       | 2020.06.14/2020.06.16 |
| 进行测试及分析 | 2020.06.16/2020.06.20 |

### 2.9.2条件

测试人员及能力需求：

| 人员   | 负责内容               | 能力需求                           |
| ------ | ---------------------- | ---------------------------------- |
| 杨辉煌 | 测试数据及测试用例准备 | 有分析数据需求和设计测试用例的能力 |
| 唐忠平 | 进行测试及测试结果分析 | 有测试操作及分析测试结果的能力     |

### 2.9.3测试资料

- 详细设计说明书
- 概要设计说明书
- 数据库设计说明书

### 2.9.4测试培训

| 受训人员       | 培训人员 | 培训内容           |
| -------------- | -------- | ------------------ |
| 李晓晨、杨辉煌 | 王昊博   | 对应部分前后端源码 |

## 2.10/private/request_reservation

### 2.10.1进度安排

| 项目模块       | 日期                  |
| -------------- | --------------------- |
| 数据准备       | 2020.06.12/2020.06.14 |
| 用例设计       | 2020.06.14/2020.06.16 |
| 进行测试及分析 | 2020.06.16/2020.06.20 |

### 2.10.2条件

测试人员及能力需求：

| 人员   | 负责内容               | 能力需求                           |
| ------ | ---------------------- | ---------------------------------- |
| 巨新龙 | 测试数据及测试用例准备 | 有分析数据需求和设计测试用例的能力 |
| 唐忠平 | 进行测试及测试结果分析 | 有测试操作及分析测试结果的能力     |

### 2.10.3测试资料

- 详细设计说明书
- 概要设计说明书
- 数据库设计说明书

### 2.10.4测试培训

| 受训人员       | 培训人员 | 培训内容           |
| -------------- | -------- | ------------------ |
| 唐忠平、巨新龙 | 王昊博   | 对应部分前后端源码 |

# 3测试设计说明

## 3.1/external/user_in

### 3.1.1控制

- 输入方式：人工输入
- 结果记录：结果以JSON形式进行记录

### 3.1.2输入

前端发送给后端一个包含有```serial```字段的POST请求。

### 3.1.3输出

- 对于合法的进馆信息，后端返回给外部设备一个标识着进馆成功的JSON字段
- 对于非法的进馆信息，后端返回给外部设备一个标识着进馆失败的JSON字段

### 3.1.4过程

- 准备带有预约信息的用户数据
- 模拟前端发送请求至后端
- 后端响应请求，返回结果

## 3.2/external/user_out

### 3.2.1控制

- 输入方式：人工输入
- 结果记录：结果以JSON形式进行记录

### 3.2.2输入

前端发送给后端一个包含有```serial```字段的POST请求。

### 3.2.3输出

- 对于合法的离馆信息，后端返回给外部设备一个标识着进馆成功的JSON字段
- 对于非法的离馆信息，后端返回给外部设备一个标识着进馆失败的JSON字段

### 3.2.4过程

- 准备带有预约信息的用户数据
- 模拟前端发送请求至后端
- 后端响应请求，返回结果

## 3.3/public/login

### 3.3.1控制

- 输入方式：人工输入
- 结果记录：显示成功/失败

### 3.3.2输入

通过微信小程序调用code2session接口获取```code```作为输入

### 3.3.3输出

返回用户登陆结果，成功或失败。

### 3.3.4过程

- 前端点击登陆
- 通过前端调取```wx.login()```，获取```code```发送至后端
- 后端进行登陆操作
- 后端将登陆结果以JSON格式返回至前端
- 前端对JSON进行解析，提取数据进行显示

## 3.4/public/get_remaining_seats

### 3.4.1控制

- 输入方式：人工输入
- 结果记录：图形化界面显示

### 3.4.2输入

点击查询剩余座位按钮

### 3.4.3输出

将楼层座位信息以JSON形式发送至前端。

### 3.4.4过程

- 初始化各楼层的座位数据
- 前端点击访问
- 后端通过数据库查询，返回包含各楼层座位数据的JSON
- 前端对JSON进行解析，进行数值渲染、显示

## 3.5/public/get_level_seats

### 3.5.1控制

- 输入方式：人工输入
- 结果记录：图形化界面显示

### 3.5.2输入

前端输入查询的楼层（0~5）和查询的日期（当日/次日）

### 3.5.3输出

输出对应楼层的座位信息，以图形化界面展示。

### 3.5.4过程

- 初始化每层的座位信息数据
- 前端输入楼层和日期信息，发送请求至后端
- 后端进行查询操作，将数据以JSON格式发送至前端
- 前端进行数据解析、数据渲染，以图形化界面显示

## 3.6/private/get_reservations

### 3.6.1控制

- 输入方式：人工输入
- 结果记录：图形化界面显示

### 3.6.2输入

登陆后点击预约查询

### 3.6.3输出

输出该用户的预约信息，以图形化界面展示

### 3.6.4过程

- 初始化带有预约的用户数据
- 登陆
- 查询预约
- 前端将用户信息和查询请求发送至后端
- 后端查询后，将数据以JSON形式返回至前端
- 前端对数据进行解析、图形渲染，显示给用户

## 3.7/private/bind_serial

### 3.7.1控制

- 输入方式：半自动
- 结果记录：图形化界面显示

### 3.7.2输入

用户在前端输入自己教务系统中的学号密码

### 3.7.3输出

显示用户绑定成功/失败

### 3.7.4过程

- 前端获取用户输入，并调用```wx.login()```获取```code```并发送请求至后端
- 后端解析请求，通过```code```获取对应的用户信息，与解析出的学号进行绑定
- 返回绑定成功/失败的JSON
- 前端解析JSON数据，以图形化界面进行显示

## 3.8/private/request_reservation

### 3.8.1控制

- 输入方式：半自动
- 结果记录：图形化界面显示

### 3.8.2输入

- 申请预约座位号
- 申请预约日期
- 申请预约起止时间
- 用户信息

### 3.8.3输出

预约成功/失败，以图形化界面展示

### 3.8.4过程

- 用户输入预约座位号、预约时间、起止时间，前端主动获得用户信息发送至后端
- 后端对请求进行解析，进行数据库查询、更新操作
- 后端返回带有操作结果的JSON
- 前端解析JSON数据，图形渲染、显示

# 4评价准则

## 4.1范围

- 检查范围：采用用例可对单个用户的操作进行测试
- 测试不足：缺乏对系统压力测试

## 4.2数据整理

评价方法：人工评价

## 4.3尺度

- 对合法输出应当有正确响应

- 对非法输入应当有异常处理
- 各类接口有明确的权限限制