# 1引言

## 1.1编写目的

为了汇总图书馆座位预约管理系统测试结果，编写此测试报告。

目的在于明确测试结果，便于系统检测验收及后期维护，迭代开发。

预期的读者：

- 本项目的设计、开发、测试人员
- 本项目的客户、用户、审核人员

## 1.2背景

说明：

1. 项目名称：图书馆座位管理系统

2. 项目角色：

   | 角色       | 对象                               |
   | ---------- | ---------------------------------- |
   | 任务提出者 | 18级软件工程ZYH班Alipapa小组       |
   | 开发者     | 18级软件工程ZYH班Alipapa小组       |
   | 用户       | 西北大学师生                       |
   | 部署目标   | 多部RFID打卡机、云服务器、移动终端 |


3. 该软件系统同其他系统或其他机构的基本的相互来往关系

   - 本软件系统隶属于西北大学图书馆，是面向图书馆座位资源的管理系统。

   - 西北大学图书馆及其隶属机构、组织拥有其操作管理权限。

   - 西北大学师生为其主要服务对象，拥有其使用权限。

   - 2018级软件工程课程ZYH班Alipapa小组为其开发、维护及更新团队。负责对该软件系统的开发、维护及更新。

## 1.3定义

- RFID: (Radio Frequency IDentification)射频识别技术，用来读用户的校园卡
- 图书馆：指西北大学长安校区图书馆
- C/S架构：客户端/服务端架构
- Android：中文常译作安卓，是一个基于Linux内核的开放源代码移动操作系统
- iOS：*iOS*是由苹果公司开发的移动操作系统
- nodejs：是一个基于Chrome V8 引擎 的JavaScript 运行时
- linux：Linux，全称GNU/Linux，是一套免费使用和自由传播的类UNIX操作系统
- JDK：JDK是 Java 语言的软件开发工具包，主要用于移动设备、嵌入式设备上的java应用程序
- docker：Docker 是一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的镜像中
- MySQL：MySQL是一个关系型数据库管理系统，由瑞典*MySQL* AB 公司开发，属于 Oracle 旗下产品
- windows：MicrosoftWindows操作系统是美国微软公司研发的一套操作系统
- macOS：Mac OS是一套运行于苹果Macintosh系列电脑上的操作系统

## 1.4参考资料

### 后端

- [Java Spring框架](https://spring.io/)

- [Maven](http://maven.apache.org/)

### 前端

- [微信小程序开发文档](https://developers.weixin.qq.com/miniprogram/dev/framework/)
- [微信开发者工具](https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/Web_Developer_Tools.html#5)
- [npm](https://www.npmjs.com/)

# 2测试概要

| 标识符                       | 测试内容                           | 差别 |
| ---------------------------- | ---------------------------------- | ---- |
| /external/user_in            | 是否能实现用户入馆操作             | 无   |
| /external/user_out           | 是否能实现用户出馆操作             | 无   |
| /public/login                | 是否能实现用户登陆操作             | 无   |
| /public/get_remaining_seats  | 是否能获得当前图书馆各层剩余位置数 | 无   |
| /public/get_level_seats      | 是否能获得每层座位详细信息         | 无   |
| /private/get_reservations    | 是否能获取用户的预约信息           | 无   |
| /private/bind_serial         | 是否能令学号绑定微信号             | 无   |
| /private/request_reservation | 是否能对座位进行一次预约           | 无   |

# 3测试结果及发现

## 3.1/external/user_in

### 3.1.1输入

```json
{
    "serial":"2018119064"
}
```

### 3.1.2预期输出

- 合法时间段内：

```json
{
    "status": 200,
    "data": {
        "success": true
    }
}
```

- 非法时间段内：

```json
{
    "status": 400,
    "error": "用户进馆失败：不在预约时段内"
}
```

### 3.1.3实际输出

- 合法时间段内：

```json
{
    "status": 200,
    "data": {
        "success": true
    }
}
```

- 非法时间段内：

```json
{
    "status": 400,
    "error": "用户进馆失败：不在预约时段内"
}
```

### 3.1.4对比结果

功能正常可用。当用户入馆无预约信息匹配时，对于本系统属于非法入馆，但仅会导致本系统不对该次入馆进行记录，不会影响用户正常入馆。

## 3.2/external/user_out

### 3.2.1输入

```json
{
    "serial":"2018119064"
}
```

### 3.2.2预期输出

- 合法时间段内

```json
{
    "status": 200,
    "data": {
        "success": true
    }
}
```

- 非法时间段内

```json 
{
    "status": 400,
    "error": "用户离馆失败：不在预约时段内"
}
```

### 3.2.3实际输出

- 合法时间段内

```json
{
    "status": 200,
    "data": {
        "success": true
    }
}
```

- 非法时间段内

```json 
{
    "status": 400,
    "error": "用户离馆失败：不在预约时段内"
}
```

### 3.2.4对比结果

功能正常可用。当用户离馆无预约信息匹配时，对于本系统属于非法离馆，但仅会导致本系统不对该次离馆进行记录，不会影响用户正常入馆。

## 3.3/public/login

### 3.3.1输入

### 3.3.2预期输出

### 3.3.3实际输出

### 3.3.4对比结果

## 3.4/public/get_remaining_seats

### 3.4.1输入

无

### 3.4.2预期输出

```json
{
    "status": 200,
    "data": [
        {
            "level": 0,
            "count": 44
        },
        {
            "level": 1,
            "count": 44
        },
        {
            "level": 2,
            "count": 44
        },
        {
            "level": 3,
            "count": 44
        },
        {
            "level": 4,
            "count": 44
        },
        {
            "level": 5,
            "cont": 44
        }
    ]
}
```

### 3.4.3实际输出

```json
{
    "status": 200,
    "data": [
        {
            "level": 0,
            "count": 44
        },
        {
            "level": 1,
            "count": 44
        },
        {
            "level": 2,
            "count": 44
        },
        {
            "level": 3,
            "count": 44
        },
        {
            "level": 4,
            "count": 44
        },
        {
            "level": 5,
            "cont": 44
        }
    ]
}
```

### 3.4.4对比结果

功能可用。

## 3.5/public/get_level_seats

### 3.5.1输入

### 3.5.2预期输出

### 3.5.3实际输出

### 3.5.4对比结果

## 3.6/private/get_reservations

### 3.6.1输入

### 3.6.2预期输出

### 3.6.3实际输出

### 3.6.4对比结果

## 3.7/private/bind_serial

### 3.7.1输入

### 3.7.2预期输出

### 3.7.3实际输出

### 3.7.4对比结果

## 3.8/private/request_reservation

### 3.8.1输入

### 3.8.2预期输出

### 3.8.3实际输出

### 3.8.4对比结果

# 4对软件功能的结论

## 4.1/external/user_in

### 4.1.1功能

识别用户学号并记录用户进入图书馆的时间，并将其存储至数据库中。

### 4.1.2限制

测试数据的范围：合理范围类型

缺陷，局部性：暂未找出

## 4.2/external/user_out

### 4.2.1能力

识别用户学号并记录用户进离开图书馆的时间，并将其存储至数据库中。

### 4.2.2限制

测试数据的范围：合理范围类型

缺陷，局部性：暂未找出

## 4.3/public/login

### 4.3.1能力

简述该项功能，说明为满足此项功能而设计的软件能力以及经过一项或多项测试已证实的能力。

### 4.3.2限制

说明测试数据值的范围（包括动态数据和静态数据），列出就这项功能而言，测试期间在该软件中查出的缺陷、局限性。

## 4.4/public/get_remaining_seats

### 4.4.1能力

获取所有楼层的所有空闲座位并将其封装以List<LevelCountResponse>返回

### 4.4.2限制

测试数据的范围：合理范围类型

缺陷，局部性：暂未找出

## 4.5/public/get_level_seats

### 4.5.1能力

获取指定楼层的所有座位信息

### 4.5.2限制

测试数据的范围：合理范围类型

缺陷，局部性：暂未找出

## 4.6/private/get_reservations

### 4.6.1能力

获取用户的预约信息

### 4.6.2限制

测试数据的范围：合理范围类型

缺陷，局部性：暂未找出

## 4.7/private/bind_serial

### 4.7.1能力

令学号绑定微信号

### 4.7.2限制

测试数据的范围：合理范围类型

缺陷，局部性：暂未找出

## 4.8/private/request_reservation

### 4.8.1能力

对座位进行一次预约

### 4.8.2限制

测试数据的范围：合理范围类型

缺陷，局部性：暂未找出





# 5分析摘要

## 5.1能力

本系统已基本实现需求定义文档中的要求，能够投入使用。即使在不同的测试环境存在的差异以及对能力测试的影响并不显著。

## 5.2缺陷和限制

系统逻辑基本上符合要求，但健壮性和性能因时间关系未能得到进一步的测试

## 5.3建议

对每项缺陷提出改进建议，如：

a． 可采用自动输入测试案例的方法而不是手动输入；

b． 系统健壮性急需加强；

c． 各项修改的负责人：2018级软件工程课程ZYH班Alipapa小组。

## 5.4评价

以达到预期目标，可交付使用

# 6测试资源消耗

资源消耗数据

| 工作人员水平 | 工作人员数量 | 机时消耗 |
| ------------ | ------------ | -------- |
| 一般         | 4            | 8小时    |

